!function(a){var b={strength:25,scale:1.1,initialScale:1.05,animationSpeed:"100ms",contain:!0,wrapContent:!1};a.fn.interactive_bg=function(c){return this.each(function(){function k(a){var b=Math.round(10*event.accelerationIncludingGravity.x)/10,c=Math.round(10*event.accelerationIncludingGravity.y)/10,f=-(b/10)*d.strength,g=-(c/10)*d.strength,h=-(2*f),i=-(2*g);e.find("> .ibg-bg").css({"-webkit-transform":"matrix("+d.scale+",0,0,"+d.scale+","+h+","+i+")","-moz-transform":"matrix("+d.scale+",0,0,"+d.scale+","+h+","+i+")","-o-transform":"matrix("+d.scale+",0,0,"+d.scale+","+h+","+i+")",transform:"matrix("+d.scale+",0,0,"+d.scale+","+h+","+i+")"})}var d=a.extend({},b,c),e=a(this),f=e.outerHeight(),g=e.outerWidth(),h=d.strength/f,i=d.strength/g,j="ontouchstart"in document.documentElement;1==d.contain&&e.css({overflow:"hidden"}),0==d.wrapContent?e.prepend("<div class='ibg-bg'></div>"):e.wrapInner("<div class='ibg-bg'></div>"),void 0!==e.data("ibg-bg")&&e.find("> .ibg-bg").css({background:"url('"+e.data("ibg-bg")+"') no-repeat center center","background-size":"cover"}),e.find("> .ibg-bg").css({width:g,height:f}),j||screen.width<=699?window.addEventListener("devicemotion",k,!1):e.mouseenter(function(a){1!=d.scale&&e.addClass("ibg-entering"),e.find("> .ibg-bg").css({"-webkit-transform":"matrix("+d.scale+",0,0,"+d.scale+",0,0)","-moz-transform":"matrix("+d.scale+",0,0,"+d.scale+",0,0)","-o-transform":"matrix("+d.scale+",0,0,"+d.scale+",0,0)",transform:"matrix("+d.scale+",0,0,"+d.scale+",0,0)","-webkit-transition":"-webkit-transform "+d.animationSpeed+" linear","-moz-transition":"-moz-transform "+d.animationSpeed+" linear","-o-transition":"-o-transform "+d.animationSpeed+" linear",transition:"transform "+d.animationSpeed+" linear"}).on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){e.removeClass("ibg-entering")})}).mousemove(function(a){if(!e.hasClass("ibg-entering")&&!e.hasClass("exiting")){var b=a.pageX||a.clientX,c=a.pageY||a.clientY,b=b-e.offset().left-g/2,c=c-e.offset().top-f/2,j=i*b*-1,k=h*c*-1;e.find("> .ibg-bg").css({"-webkit-transform":"matrix("+d.scale+",0,0,"+d.scale+","+j+","+k+")","-moz-transform":"matrix("+d.scale+",0,0,"+d.scale+","+j+","+k+")","-o-transform":"matrix("+d.scale+",0,0,"+d.scale+","+j+","+k+")",transform:"matrix("+d.scale+",0,0,"+d.scale+","+j+","+k+")","-webkit-transition":"none","-moz-transition":"none","-o-transition":"none",transition:"none"})}}).mouseleave(function(a){1!=d.scale&&e.addClass("ibg-exiting"),e.addClass("ibg-exiting").find("> .ibg-bg").css({"-webkit-transform":"matrix("+d.initialScale+",0,0,1,0,0)","-moz-transform":"matrix("+d.initialScale+",0,0,1,0,0)","-o-transform":"matrix("+d.initialScale+",0,0,1,0,0)",transform:"matrix("+d.initialScale+",0,0,1,0,0)","-webkit-transition":"-webkit-transform "+d.animationSpeed+" linear","-moz-transition":"-moz-transform "+d.animationSpeed+" linear","-o-transition":"-o-transform "+d.animationSpeed+" linear",transition:"transform "+d.animationSpeed+" linear"}).on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){e.removeClass("ibg-exiting")})})})}}(window.jQuery);